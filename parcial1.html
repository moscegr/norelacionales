<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parcial I - CBTis 134 - Ing. Garcia Ramos</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Iconos FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&family=Inter:wght@300;400;600;700&display=swap');
        
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        .font-mono { font-family: 'Fira Code', monospace; }
        
        .gradient-header {
            background: linear-gradient(135deg, #0f172a 0%, #1e40af 100%);
        }
        
        .week-tab {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .week-tab.active {
            background-color: white;
            color: #1d4ed8 !important;
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            font-weight: 800;
        }

        .code-container {
            background-color: #011627;
            position: relative;
            border: 1px solid #1e293b;
        }

        .code-container::before {
            content: "LABORATORIO DE EJEMPLOS";
            position: absolute;
            top: 10px;
            right: 15px;
            color: #334155;
            font-size: 10px;
            font-weight: 800;
            letter-spacing: 1px;
        }

        .concept-badge {
            background: rgba(37, 99, 235, 0.1);
            color: #1e40af;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 800;
            text-transform: uppercase;
            border: 1px solid rgba(37, 99, 235, 0.2);
        }

        .animate-content {
            animation: slideUp 0.4s ease-out;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .theory-card strong { color: #1e40af; font-weight: 700; }
        .example-box { border-left: 4px solid #3b82f6; background-color: #f8fafc; padding: 1rem; border-radius: 0.5rem; }
        
        .visual-mini-code {
            background: #1e293b;
            color: #94a3b8;
            padding: 0.5rem;
            border-radius: 0.4rem;
            font-family: 'Fira Code', monospace;
            font-size: 0.75rem;
            margin-top: 0.5rem;
            display: block;
        }

        .comparison-table th { background-color: #f1f5f9; color: #1e293b; text-transform: uppercase; font-size: 0.7rem; letter-spacing: 0.05em; }
        .comparison-table td { font-size: 0.85rem; border-bottom: 1px solid #e2e8f0; color: #334155; }
        .equiv-arrow { color: #3b82f6; font-weight: 900; }
        
        .sql-table-rep {
            border: 2px solid #e2e8f0;
            border-collapse: collapse;
            font-size: 0.7rem;
            width: 100%;
        }
        .sql-table-rep th, .sql-table-rep td {
            border: 1px solid #cbd5e1;
            padding: 4px 8px;
            text-align: left;
        }
        .sql-table-rep th { background: #f8fafc; }

        @media (max-width: 640px) {
            .week-tab { min-width: 45%; }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 overflow-x-hidden">

    <!-- Navegación -->
    <nav class="bg-white/90 backdrop-blur-md shadow-sm sticky top-0 z-50 border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <a href="index.html" class="flex items-center space-x-2 text-blue-600 hover:text-blue-800 transition group">
                    <i class="fas fa-arrow-left transition-transform group-hover:-translate-x-1"></i>
                    <span class="font-bold uppercase tracking-tighter text-sm">Inicio del Curso</span>
                </a>
                <div class="flex items-center space-x-3">
                    <span class="bg-blue-600 text-white text-[10px] font-black px-2 py-1 rounded shadow-sm italic">CBTis 134</span>
                    <span class="text-slate-400 font-bold text-xs uppercase tracking-widest hidden md:inline">Manual Pedagógico Dinámico</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Header Lección -->
    <header class="gradient-header text-white py-14 px-4 text-center relative overflow-hidden">
        <div class="max-w-4xl mx-auto relative z-10">
            <h1 class="text-3xl md:text-5xl font-black mb-4 tracking-tight uppercase italic">Primer Parcial: Inmersión</h1>
            <p class="text-blue-100 text-lg opacity-95 max-w-2xl mx-auto italic leading-snug">
                Gestionando información en la era de los datos masivos: <span class="text-white font-bold underline">Flexibilidad, Escalabilidad y Rendimiento</span>.
            </p>
        </div>
        <div class="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none text-white">
            <i class="fas fa-network-wired text-[25rem] absolute -bottom-20 -right-20"></i>
        </div>
    </header>

    <!-- Navegación Semanal (Tabs Responsivas) -->
    <section class="max-w-7xl mx-auto px-4 -mt-10 relative z-20">
        <div class="bg-slate-200/60 backdrop-blur-xl p-1.5 rounded-2xl shadow-xl flex flex-wrap justify-center gap-1.5 border border-white/30">
            <button onclick="switchWeek(1)" id="tab1" class="week-tab active flex-1 min-w-[110px] py-4 rounded-xl font-bold text-xs uppercase flex flex-col items-center">
                <span class="opacity-60 text-[9px] mb-1 italic">I. Teoría</span>
                <span>Semana 01</span>
            </button>
            <button onclick="switchWeek(2)" id="tab2" class="week-tab text-slate-600 flex-1 min-w-[110px] py-4 rounded-xl font-bold text-xs uppercase flex flex-col items-center hover:bg-white/50 transition">
                <span class="opacity-60 text-[9px] mb-1 italic">II. Arquitectura</span>
                <span>Semana 02</span>
            </button>
            <button onclick="switchWeek(3)" id="tab3" class="week-tab text-slate-600 flex-1 min-w-[110px] py-4 rounded-xl font-bold text-xs uppercase flex flex-col items-center hover:bg-white/50 transition">
                <span class="opacity-60 text-[9px] mb-1 italic">III. Laboratorio</span>
                <span>Semana 03</span>
            </button>
            <button onclick="switchWeek(4)" id="tab4" class="week-tab text-slate-600 flex-1 min-w-[110px] py-4 rounded-xl font-bold text-xs uppercase flex flex-col items-center hover:bg-white/50 transition">
                <span class="opacity-60 text-[9px] mb-1 italic">IV. Optimización</span>
                <span>Semana 04</span>
            </button>
            <button onclick="switchWeek(5)" id="tab5" class="week-tab text-slate-600 flex-1 min-w-[110px] py-4 rounded-xl font-bold text-xs uppercase flex flex-col items-center hover:bg-white/50 transition">
                <span class="opacity-60 text-[9px] mb-1 italic">V. Evaluación</span>
                <span>Semana 05</span>
            </button>
        </div>
    </section>

    <!-- Contenedor Dinámico -->
    <main class="max-w-7xl mx-auto px-4 py-12">
        <div id="week-content" class="animate-content">
            <!-- Inyección de contenido mediante JS -->
        </div>
    </main>

    <footer class="bg-slate-950 text-slate-500 py-12 px-4 text-center border-t border-slate-900">
        <div class="max-w-4xl mx-auto text-slate-400">
            <p class="text-white font-bold text-lg mb-2 italic">Submódulo 2: Implementa Bases de Datos No Relacionales</p>
            <p class="text-sm uppercase tracking-widest font-medium">Docente: Ing. Cruz Enrique Garcia Ramos • CBTis 134</p>
        </div>
    </footer>

    <script>
        const contentData = {
            1: {
                title: "Teoría, Diferenciación y Equivalencias",
                subtitle: "Semana 1: Cimientos del Mundo NoSQL",
                theory: `Para dominar el entorno NoSQL, debemos comprender los conceptos que rompen con el modelo relacional tradicional.
                        <br><br>
                        <strong>Conceptos Críticos:</strong>
                        <ul class="list-disc ml-5 mt-4 space-y-4 text-slate-700">
                            <li><strong>SGBD (Sistema Gestor de Base de Datos):</strong> El software intermediario entre el usuario y los datos físicos (ej. el proceso <code>mongod</code>).</li>
                            <li><strong>SQL (ACID):</strong> Modelo basado en integridad absoluta. <strong>A</strong>tomicidad, <strong>C</strong>onsistencia, <strong>I</strong>lamiento y <strong>D</strong>urabilidad. Ideal para sistemas bancarios.</li>
                            <li><strong>NoSQL (BASE):</strong> Modelo basado en alta disponibilidad. <strong>B</strong>asically <strong>A</strong>vailable, <strong>S</strong>oft-state, <strong>E</strong>ventual consistency. Los datos se sincronizan con el tiempo.</li>
                            <li><strong>Teorema CAP:</strong> Establece que un sistema distribuido solo puede tener 2 de 3: <strong>C</strong>onsistencia, <strong>A</strong>vailability (Disponibilidad) y <strong>P</strong>articionamiento.</li>
                        </ul>
                        <br>
                        <div class="p-5 bg-blue-50 rounded-2xl border border-blue-200 shadow-sm">
                            <h5 class="font-bold text-blue-900 mb-3 uppercase text-xs tracking-widest text-center"><i class="fas fa-sync-alt mr-2"></i>Mapa de Equivalencias SQL ↔ NoSQL</h5>
                            <div class="overflow-x-auto">
                                <table class="w-full text-left comparison-table bg-white rounded-lg">
                                    <thead>
                                        <tr>
                                            <th class="p-3">Concepto SQL</th>
                                            <th class="p-3 text-center">Relación</th>
                                            <th class="p-3 text-green-700 font-bold">Concepto MongoDB</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr><td class="p-3 font-bold">Base de Datos</td><td class="p-3 text-center equiv-arrow">↔</td><td class="p-3 font-bold text-green-600 italic">Base de Datos</td></tr>
                                        <tr><td class="p-3 font-bold">Tabla</td><td class="p-3 text-center equiv-arrow">↔</td><td class="p-3 font-bold text-green-600 italic">Colección (Collection)</td></tr>
                                        <tr><td class="p-3 font-bold">Fila (Registro)</td><td class="p-3 text-center equiv-arrow">↔</td><td class="p-3 font-bold text-green-600 italic">Documento (Objeto JSON)</td></tr>
                                        <tr><td class="p-3 font-bold">Columna</td><td class="p-3 text-center equiv-arrow">↔</td><td class="p-3 font-bold text-green-600 italic">Campo (Field)</td></tr>
                                        <tr><td class="p-3 font-bold">Índice</td><td class="p-3 text-center equiv-arrow">↔</td><td class="p-3 font-bold text-green-600 italic">Índice (Index)</td></tr>
                                        <tr><td class="p-3 font-bold">Uniones (Joins)</td><td class="p-3 text-center equiv-arrow">↔</td><td class="p-3 font-bold text-green-600 italic">Embedding / Linking</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <br>
                        <strong>Modelos NoSQL con Ejemplo Visual:</strong>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2 text-slate-700">
                            <div class="example-box">
                                <i class="fas fa-key text-blue-600 mr-2"></i><strong>Clave-Valor:</strong>
                                <code class="visual-mini-code">"user_id:101" -> "{nombre: 'Luis'}"</code>
                            </div>
                            <div class="example-box">
                                <i class="fas fa-file-code text-blue-600 mr-2"></i><strong>Documento:</strong>
                                <code class="visual-mini-code">{ "_id": 1, "nom": "Luis", "materias": [...] }</code>
                            </div>
                            <div class="example-box">
                                <i class="fas fa-columns text-blue-600 mr-2"></i><strong>Columnar:</strong>
                                <code class="visual-mini-code">Row: { Name: 'Luis' | Age: 17 }</code>
                            </div>
                            <div class="example-box">
                                <i class="fas fa-project-diagram text-blue-600 mr-2"></i><strong>Grafo:</strong>
                                <code class="visual-mini-code">(Luis)-[:ESTUDIA]->(NoSQL)</code>
                            </div>
                        </div>
                        <br>
                        <div class="p-6 bg-slate-100 rounded-2xl border border-slate-300">
                            <h5 class="font-bold text-slate-900 mb-3 uppercase text-xs flex items-center"><i class="fas fa-directions mr-2 text-blue-600"></i>Ejemplo Guiado: Tu primer documento</h5>
                            <p class="text-sm text-slate-600 mb-4">Para crear un documento en MongoDB usamos la sintaxis de llaves <code>{ }</code>. Cada dato es una pareja de <strong>"Clave": "Valor"</strong>.</p>
                            <div class="bg-white p-4 rounded-xl border border-slate-200 font-mono text-xs text-blue-800 overflow-x-auto">
                                { <br>
                                &nbsp;&nbsp;"nombre": "Ana", <span class="text-slate-400 font-sans italic">// Cadena de texto</span><br>
                                &nbsp;&nbsp;"edad": 17, <span class="text-slate-400 font-sans italic">// Número entero</span><br>
                                &nbsp;&nbsp;"materias": ["NoSQL", "C#"], <span class="text-slate-400 font-sans italic">// Arreglo (Lista)</span><br>
                                &nbsp;&nbsp;"becado": true <span class="text-slate-400 font-sans italic">// Booleano</span><br>
                                }
                            </div>
                        </div>`,
                image: "https://images.unsplash.com/photo-1544383835-bda2bc66a55d?q=80&w=800&auto=format&fit=crop", 
                concepts: ["Conceptos Críticos", "Equivalencias", "Tabla vs Documento", "SGBD"],
                code: `// COMPARATIVA VISUAL SQL VS NOSQL\n\n// 1. SQL (Fila rígida en tabla)\n// | ID | NOMBRE | TEL       |\n// |----|--------|-----------|\n// | 1  | Ana    | NULL      |\n\n// 2. MONGODB (Documento flexible en colección)\n{\n  "_id": 1,\n  "nombre": "Ana",\n  "habilidades": ["C#", "NoSQL"],\n  // No se guarda el campo 'tel' si no existe, ahorrando espacio.\n}`,
                exercise: `<strong>Actividades de Reforzamiento:</strong><br><br>
                           <strong>Reto 1.1:</strong> Diseña una 'Tabla SQL' para una biblioteca y luego transfórmala en un 'Documento de Colección' de MongoDB.<br><br>
                           <strong>Ejercicio 1:</strong> Crea un documento JSON para registrar un dispositivo electrónico (ej. Celular) que incluya marca, modelo, precio y un arreglo con 3 características técnicas.<br><br>
                           <strong>Ejercicio 2:</strong> Imagina una red social. Crea un documento para una "Publicación" que contenga el autor, el texto del post, la fecha y una lista de etiquetas (hashtags).`
            },
            2: {
                title: "Diseño y Arquitectura de Datos NoSQL",
                subtitle: "Semana 2: Modelado Eficiente",
                theory: `Diseñar en NoSQL no significa "tirar los datos sin orden". Significa diseñar en base a las <strong>necesidades del sistema</strong>.
                        <br><br>
                        <strong>1. Identificación de Necesidades:</strong>
                        <p class="text-slate-600 text-sm mb-4">Antes de programar, debemos preguntarnos: ¿Qué datos consultará mi aplicación más seguido? ¿Qué información siempre debe ir junta? (Ej: Un alumno y sus calificaciones).</p>
                        
                        <strong>2. Estructura y Esquemas:</strong>
                        <ul class="list-disc ml-5 mt-4 space-y-4 text-slate-700">
                            <li><strong>Esquema Flexible:</strong> A diferencia de SQL, aquí el esquema puede evolucionar. Podemos agregar campos nuevos sin alterar los datos viejos.</li>
                            <li><strong>Embedding (Incrustar):</strong> Guardar objetos dentro de objetos. Ideal para datos que siempre se leen juntos.</li>
                            <li><strong>Referencing (Vincular):</strong> Usar IDs para conectar documentos en diferentes colecciones (similar a las Foreign Keys pero manual).</li>
                        </ul>
                        <br>
                        <div class="p-5 bg-indigo-50 rounded-2xl border border-indigo-200 shadow-sm mb-6">
                            <h5 class="font-bold text-indigo-900 mb-3 uppercase text-xs tracking-widest text-center"><i class="fas fa-users-cog mr-2"></i>Ejemplo Resuelto: Información de Usuarios</h5>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="bg-white p-3 rounded-lg border border-slate-200">
                                    <p class="text-[10px] font-bold text-slate-500 uppercase mb-2">Representación SQL (Tabla)</p>
                                    <div class="overflow-x-auto">
                                        <table class="sql-table-rep">
                                            <thead>
                                                <tr><th>id</th><th>user</th><th>email</th><th>role</th></tr>
                                            </thead>
                                            <tbody>
                                                <tr><td>1</td><td>egramos</td><td>er@mail.com</td><td>admin</td></tr>
                                                <tr><td>2</td><td>lgarcia</td><td>lg@mail.com</td><td>user</td></tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <p class="text-[9px] text-red-500 mt-2 italic font-medium">Nota: No permite arreglos en columnas.</p>
                                </div>
                                <div class="bg-white p-3 rounded-lg border border-slate-200">
                                    <p class="text-[10px] font-bold text-green-600 uppercase mb-2">Representación MongoDB (JSON)</p>
                                    <pre class="text-[10px] font-mono text-blue-800 leading-tight">
{
  "user": "egramos",
  "email": "er@mail.com",
  "config": {
    "tema": "oscuro",
    "notificaciones": true
  },
  "grupos": ["4AP", "6AP"]
}</pre>
                                </div>
                            </div>
                        </div>

                        <strong>3. Ejemplo Guiado Gráfico: Modelado de Catálogo</strong>
                        <div class="bg-slate-800 p-6 rounded-2xl text-slate-300 text-sm mb-4">
                            <h6 class="text-white font-bold mb-2">Escenario: Sistema de Inventario</h6>
                            <p class="mb-3 text-xs">Observe cómo anidamos datos técnicos sin necesidad de tablas externas:</p>
                            <div class="bg-slate-900 p-3 rounded-lg border border-slate-700 font-mono text-[11px] text-emerald-400 overflow-x-auto">
{ <br>
&nbsp;&nbsp;"producto": "SSD Kingston 1TB", <br>
&nbsp;&nbsp;"especificaciones": { <span class="text-slate-500 font-sans">// Embedding</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;"interfaz": "SATA III", <br>
&nbsp;&nbsp;&nbsp;&nbsp;"lectura": "500MB/s" <br>
&nbsp;&nbsp;}, <br>
&nbsp;&nbsp;"categorias": ["Hardware", "Almacenamiento"] <span class="text-slate-500 font-sans">// Arreglo</span> <br>
}
                            </div>
                        </div>`,
                image: "https://images.unsplash.com/photo-1516116216624-53e697fedbea?q=80&w=800&auto=format&fit=crop", 
                concepts: ["Necesidades del Sistema", "Esquemas Flexibles", "Embedding vs Referencing", "JSON Design"],
                code: `// MODELADO DE REFERENCIA (LINKING)\n// Colección: alumnos\n{\n  "_id": ObjectId("65c1a2b3..."),\n  "nombre": "Luis Garcia"\n}\n\n// Colección: calificaciones\n{\n  "alumno_id": ObjectId("65c1a2b3..."), // Vínculo manual\n  "materia": "NoSQL",\n  "calif": 10\n}`,
                exercise: `<strong>Actividades de Diseño NoSQL:</strong><br><br>
                           <strong>Ejercicio 1:</strong> Identifica las necesidades para una aplicación de "Restaurante". Diseña el esquema JSON para un "Pedido" que incluya: número de mesa, lista de platillos (como arreglo de objetos) y el total.<br><br>
                           <strong>Ejercicio 2:</strong> Convierte una tabla relacional de "Coches" (Placa, Marca, Modelo, Color) a un documento MongoDB, pero añade un campo incrustado (Objeto) para los datos del "Propietario" y un arreglo para los "Servicios de Mantenimiento" realizados.`
            },
            3: {
                title: "Infraestructura Cloud y Comandos mongosh",
                subtitle: "Semana 3: Despliegue y Laboratorio de Comandos",
                theory: `Las bases de datos modernas viven en la nube. <strong>MongoDB Atlas</strong> es una plataforma <strong>DBaaS</strong> (Database as a Service) que gestiona clústeres elásticos.
                        <br><br>
                        <strong>Instrucciones y Comandos Esenciales:</strong>
                        <div class="space-y-4 text-slate-700 text-[15px]">
                            <p><strong>1. Navegación Global:</strong></p>
                            <ul class="list-disc ml-8">
                                <li><code>show dbs</code>: Lista todas las bases de datos disponibles.</li>
                                <li><code>use mi_base_de_datos</code>: Crea o cambia el contexto a una base específica.</li>
                                <li><code>show collections</code>: Lista las colecciones (tablas) dentro de la DB actual.</li>
                                <li><code>cls</code>: Limpia la terminal del Shell.</li>
                            </ul>
                            
                            <p><strong>2. Gestión de Colecciones:</strong></p>
                            <ul class="list-disc ml-8">
                                <li><code>db.createCollection("nombre")</code>: Crea una colección manualmente (opcional).</li>
                                <li><code>db.nombre_coleccion.drop()</code>: Elimina permanentemente una colección y sus datos.</li>
                            </ul>

                            <p><strong>3. Operaciones CRUD (Create, Read, Update, Delete):</strong></p>
                            <ul class="list-disc ml-8">
                                <li><strong>Crear:</strong> <code>insertOne({data})</code> o <code>insertMany([{d1}, {d2}])</code>.</li>
                                <li><strong>Leer:</strong> <code>find({filtro})</code> para todos, <code>findOne({filtro})</code> para el primero encontrado.</li>
                                <li><strong>Actualizar:</strong> <code>updateOne({filtro}, {$set: {nuevos_datos}})</code>.</li>
                                <li><strong>Eliminar:</strong> <code>deleteOne({filtro})</code> o <code>deleteMany({filtro})</code>.</li>
                            </ul>
                            
                            <p><strong>4. Utilidades de Sistema:</strong></p>
                            <ul class="list-disc ml-8">
                                <li><code>db.help()</code>: Muestra ayuda sobre los métodos de base de datos.</li>
                                <li><code>db.coleccion.stats()</code>: Muestra el tamaño y ocupación de la colección.</li>
                            </ul>
                        </div>`,
                image: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=800&auto=format&fit=crop", 
                concepts: ["Atlas DBaaS", "mongosh", "CRUD Methods", "Global Commands", "Security Wall"],
                code: `// GUÍA TÉCNICA DE COMANDOS\n\n// 1. Entrar a una base de datos nueva\nuse laboratorio_cbtis;\n\n// 2. Insertar varios documentos a la vez\ndb.equipos.insertMany([\n  { "nombre": "Router R1", "estatus": "Activo" },\n  { "nombre": "Switch S1", "estatus": "Inactivo" }\n]);\n\n// 3. Buscar solo los equipos activos\ndb.equipos.find({ "estatus": "Activo" });\n\n// 4. Actualizar un registro específico\ndb.equipos.updateOne(\n  { "nombre": "Switch S1" },\n  { $set: { "estatus": "Activo", "fecha_mantenimiento": "2026-02-25" } }\n);\n\n// 5. Contar documentos\ndb.equipos.countDocuments();`,
                exercise: `<strong>Laboratorio de Comandos:</strong><br><br>
                           <strong>Actividad 1:</strong> Abre tu clúster de Atlas y entra al Shell. Crea una base de datos llamada 'MiNombre_DB'.<br><br>
                           <strong>Actividad 2:</strong> Inserta 5 documentos en una colección 'contactos' que representen a tus amigos (nombre, edad, telefono).<br><br>
                           <strong>Actividad 3:</strong> Usa el comando <code>find()</code> con un filtro para mostrar solo a los amigos mayores de 18 años (usa <code>$gt: 18</code>).<br><br>
                           <strong>Actividad 4:</strong> Actualiza el teléfono de uno de tus contactos y verifica el cambio.`
            },
            4: {
                title: "Optimización de Alto Rendimiento",
                subtitle: "Semana 4: Indexación Estratégica",
                theory: `Una base de datos lenta es un sistema fallido. Aprendemos a optimizar el rendimiento mediante índices.
                        <br><br>
                        <strong>Términos de Performance:</strong>
                        <ul class="list-disc ml-5 mt-4 space-y-4 text-slate-700">
                            <li><strong>Indexación (Index):</strong> Estructura ordenada que evita leer todos los archivos (COLSCAN).</li>
                            <li><strong>COLSCAN:</strong> Escaneo total de la colección. Extremadamente lento.</li>
                            <li><strong>IXSCAN:</strong> Escaneo de índice. El motor llega directo al dato solicitado.</li>
                            <li><strong>Operadores de Rango:</strong> <code>$gt</code> (Mayor que), <code>$lt</code> (Menor que), <code>$in</code> (En lista).</li>
                        </ul>`,
                image: "https://images.unsplash.com/photo-1551288049-bbda38a5f9a2?q=80&w=800&auto=format&fit=crop", 
                concepts: ["Indexing", "IXSCAN", "Boolean Logic", "Performance Stats"],
                code: `// Crear índice para optimizar búsquedas por 'sku'\ndb.inventario.createIndex({ "sku": 1 });\n\n// Búsqueda de rango con múltiples condiciones\ndb.inventario.find({\n  "precio": { $gte: 500, $lte: 1500 },\n  "estatus": "disponible"\n});`,
                exercise: "<strong>Reto 4.1:</strong> Escribe la consulta para buscar productos con stock mayor a 0 que NO pertenezcan a la categoría 'Papelería' usando el operador $ne."
            },
            5: {
                title: "Evaluación Integral del Bloque",
                subtitle: "Semana 5: Verificación de Aprendizaje",
                theory: `Momento de consolidar las competencias adquiridas en el diseño y gestión de datos no estructurados.
                        <br><br>
                        <strong>Dimensiones a Evaluar:</strong>
                        <ul class="list-disc ml-5 mt-4 space-y-3 text-slate-700">
                            <li><strong>Dominio Teórico:</strong> Examen sobre SGBD, Teorema CAP y Tipología NoSQL.</li>
                            <li><strong>Habilidad Práctica:</strong> Configuración de clústeres, seguridad y sentencias CRUD.</li>
                            <li><strong>Diseño:</strong> Modelado de esquemas JSON funcionales para sistemas de inventarios o usuarios.</li>
                            <li><strong>Evidencias:</strong> Portafolio completo con capturas de pantalla de tus ejecuciones en Atlas.</li>
                        </ul>`,
                image: "https://images.unsplash.com/photo-1434030216411-0b793f4b4173?q=80&w=800&auto=format&fit=crop", 
                concepts: ["Exam Success", "Portfolio Delivery", "Final Review", "Skills Validation"],
                code: `// Resumen de Operadores para el Examen:\n- $set / $inc (Actualizaciones)\n- $push / $pull (Arreglos)\n- $gt, $lt, $gte, $lte (Comparación)\n- createIndex() (Rendimiento)`,
                exercise: "<strong>Reto 5.1:</strong> Revise su portafolio. Asegúrese de que sus scripts de diseño (Semana 2) y sus consultas de optimización (Semana 4) estén documentados con su nombre."
            }
        };

        function switchWeek(num) {
            // UI Update: Botones
            for(let i=1; i<=5; i++) {
                const btn = document.getElementById('tab'+i);
                btn.className = "week-tab text-slate-600 flex-1 min-w-[110px] py-4 rounded-xl font-bold text-xs uppercase flex flex-col items-center hover:bg-white/50 transition";
            }
            document.getElementById('tab'+num).className = "week-tab active flex-1 min-w-[110px] py-4 rounded-xl font-bold text-xs uppercase flex flex-col items-center";

            // Data Update: Inyección de contenido
            const d = contentData[num];
            const container = document.getElementById('week-content');
            
            container.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                    <div class="space-y-6">
                        <div>
                            <div class="flex flex-wrap gap-2 mb-4">
                                ${d.concepts.map(c => `<span class="concept-badge"><i class="fas fa-check-circle mr-1 opacity-50"></i>${c}</span>`).join('')}
                            </div>
                            <h2 class="text-3xl md:text-4xl font-black text-slate-900 leading-tight">${d.title}</h2>
                            <p class="text-blue-600 font-bold text-xs mt-2 uppercase tracking-widest italic border-l-2 border-blue-600 pl-2">${d.subtitle}</p>
                        </div>
                        
                        <div class="bg-white p-8 rounded-3xl shadow-sm border border-slate-200 leading-relaxed text-slate-800 theory-card">
                            <h4 class="font-bold text-slate-900 mb-6 border-b border-slate-100 pb-3 flex items-center">
                                <i class="fas fa-graduation-cap mr-2 text-blue-600"></i> Lección Teórica Detallada
                            </h4>
                            <div class="text-[17px] space-y-4">
                                ${d.theory}
                            </div>
                        </div>

                        <div class="bg-blue-600 p-8 rounded-3xl shadow-lg relative overflow-hidden text-white group border-b-8 border-blue-900">
                            <i class="fas fa-terminal absolute -right-6 -bottom-6 text-9xl opacity-10 transition-transform group-hover:scale-110"></i>
                            <h4 class="font-black text-blue-200 text-[10px] uppercase tracking-tighter mb-2">
                                <i class="fas fa-pencil-alt mr-1"></i> Tarea Formativa del Alumno
                            </h4>
                            <div class="text-white font-bold text-sm italic leading-snug">${d.exercise}</div>
                        </div>
                    </div>

                    <div class="space-y-8">
                        <div class="rounded-3xl overflow-hidden shadow-2xl h-72 border-4 border-white relative group">
                            <img src="${d.image}" alt="Concepto Visual Técnico" class="w-full h-full object-cover transition transform group-hover:scale-105 duration-1000">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"></div>
                            <div class="absolute bottom-6 left-6 text-white">
                                <p class="text-xs font-bold uppercase tracking-widest opacity-70 mb-1">Entorno Profesional NoSQL</p>
                                <p class="text-xl font-black italic tracking-tighter">CBTis 134 • Programación</p>
                            </div>
                        </div>

                        <div class="code-container p-6 rounded-3xl shadow-2xl overflow-hidden">
                            <div class="flex space-x-2 mb-6 border-b border-slate-800 pb-4">
                                <div class="w-2.5 h-2.5 rounded-full bg-red-500/80 shadow-lg shadow-red-500/20"></div>
                                <div class="w-2.5 h-2.5 rounded-full bg-yellow-500/80 shadow-lg shadow-yellow-500/20"></div>
                                <div class="w-2.5 h-2.5 rounded-full bg-green-500/80 shadow-lg shadow-green-500/20"></div>
                                <span class="text-[10px] text-slate-500 font-mono pl-3 tracking-widest uppercase italic font-bold">Query_Lab.bin</span>
                            </div>
                            <pre class="font-mono text-blue-200 text-sm overflow-x-auto py-2 leading-relaxed selection:bg-blue-500 selection:text-white"><code>${d.code}</code></pre>
                            <button onclick="copyCode(this)" class="mt-8 w-full bg-blue-600 hover:bg-blue-700 text-white text-[10px] font-black py-4 rounded-xl transition-all flex items-center justify-center space-x-2 shadow-lg active:scale-95 uppercase tracking-widest border border-blue-400">
                                <i class="fas fa-copy"></i> <span>Copiar Código al Portapapeles</span>
                            </button>
                        </div>
                        
                        <div class="p-4 bg-slate-200 rounded-2xl flex items-center space-x-4 border border-slate-300">
                             <div class="bg-white p-3 rounded-xl shadow-sm"><i class="fas fa-info-circle text-blue-500 text-xl"></i></div>
                             <p class="text-[11px] font-bold text-slate-600 uppercase tracking-tight leading-tight italic">Referencia: Alineado a la planeación del CBTis 134 • Ciclo 2025-2026.</p>
                        </div>
                    </div>
                </div>
            `;

            container.classList.remove('animate-content');
            void container.offsetWidth; 
            container.classList.add('animate-content');
        }

        function copyCode(btn) {
            const code = btn.previousElementSibling.innerText;
            const temp = document.createElement('textarea');
            temp.value = code;
            document.body.appendChild(temp);
            temp.select();
            document.execCommand('copy');
            document.body.removeChild(temp);
            
            const original = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i> <span>¡SINTAXIS COPIADA!</span>';
            btn.classList.replace('bg-blue-600', 'bg-emerald-600');
            btn.classList.replace('border-blue-400', 'border-emerald-400');
            setTimeout(() => { 
                btn.innerHTML = original; 
                btn.classList.replace('bg-emerald-600', 'bg-blue-600');
                btn.classList.replace('border-emerald-400', 'border-blue-400');
            }, 2000);
        }

        window.onload = () => switchWeek(1);
    </script>
</body>
</html>
